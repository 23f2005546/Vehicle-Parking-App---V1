{% extends 'base.html' %}
{% block content %}
  <h2>All Reservations</h2>

  {% if reservations %}
    <table border="1" cellpadding="5" cellspacing="0">
      <thead>
        <tr>
          <th>ID</th>
          <th>User</th>
          <th>Lot</th>
          <th>Spot ID</th>
          <th>Cost</th>
          <th>Start</th>
          <th>End</th>
        </tr>
      </thead>
      <tbody>
        {% for r in reservations %}
          <tr>
            <td>{{ r.id }}</td>
            <td>{{ r.user.full_name }}</td>
            <td>{{ r.spot.lot.prime_location_name }}</td>
            <td>{{ r.spot.id }}</td>
            <td>₹{{ r.cost_per_unit }}</td>
            <td>{{ r.parking_time.strftime('%Y-%m-%d %H:%M') }}</td>
            <td>{{ r.leaving_time.strftime('%Y-%m-%d %H:%M') if r.leaving_time else '—' }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No reservations found.</p>
  {% endif %}

  <p><a href="{{ url_for('admin.dashboard') }}">Back to Admin Dashboard</a></p>
{% endblock %}
